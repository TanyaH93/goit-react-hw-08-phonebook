(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{102:function(e,t,n){e.exports=n(151)},151:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),u=n(28),s=n(83),i=n(19),l=n(85),d=n.n(l),b=function(){return a.a.createElement("div",null,a.a.createElement(d.a,{type:"MutatingDots",color:"#303F9D",height:100,width:100}))},f=n(61),m=n(62),g=n(64),E=n(63),h=n(10),p=n(184),O="/",j="/register",C="/login",k="/contacts",U=n(16),v=n(20),S=n(17),y=n(52),R=function(e){var t=e.component,n=e.isAuthenticated,r=Object(y.a)(e,["component","isAuthenticated"]);return a.a.createElement(h.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(h.a,{to:O})}}))},q=Object(i.b)((function(e){return{isAuthenticated:U.c.isAuthenticated(e)}}))(R),A=function(e){var t=e.component,n=e.isAuthenticated,r=Object(y.a)(e,["component","isAuthenticated"]);return a.a.createElement(h.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(h.a,{to:O}):a.a.createElement(t,e)}}))},N=Object(i.b)((function(e){return{isAuthenticated:U.c.isAuthenticated(e)}}))(A),w=n(175),x=n(177),B=n(179),L=Object(w.a)((function(e){return{link:{textDecoration:"none",color:"#fff"}}})),z=function(e){var t=L();return a.a.createElement(x.a,null,a.a.createElement(u.b,{to:j,className:t.link},a.a.createElement(B.a,{color:"inherit"},"Register")),a.a.createElement(u.b,{to:C,className:t.link},a.a.createElement(B.a,{color:"inherit"},"Login")))},T=n(181),D=n(80),P=n.n(D),F=n(65),I=n.n(F),M=n(180),G=function(e){return a.a.createElement(x.a,null,a.a.createElement(M.a,{variant:"h6"},e.userName),a.a.createElement(I.a,null),a.a.createElement(B.a,{onClick:e.logOut,color:"inherit"},"Log Out"),a.a.createElement(T.a,{onClick:e.deleteUser,variant:"contained",color:"secondary"},a.a.createElement(P.a,null)))},J=Object(i.b)((function(e){return{userName:U.c.getName(e)}}),{logOut:U.b.logoutUser,deleteUser:U.b.deleteUser})(G),H=n(182),V=n(89),W=n.n(V),K=Object(w.a)((function(e){return{root:{flexGrow:1,marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},navLink:{color:"#fff",textDecoration:"none",marginRight:e.spacing(2)},navLinkActive:{color:W.a}}})),Q=function(e){var t=K();return a.a.createElement("div",{className:t.root},a.a.createElement(H.a,{position:"static"},a.a.createElement(x.a,null,a.a.createElement(M.a,{variant:"h6",className:t.title},a.a.createElement(u.c,{to:O,className:t.navLink,activeClassName:t.navLinkActive},"HOME"),e.isAuthenticated&&a.a.createElement(u.c,{to:k,className:t.navLink,activeClassName:t.navLinkActive},"CONTACTS")),e.isAuthenticated?a.a.createElement(J,null):a.a.createElement(z,null))))},X=Object(i.b)((function(e){return{isAuthenticated:U.c.isAuthenticated(e)}}))(Q),Y=n(185),Z=n(183),$=n(154),_=n(90),ee=n.n(_),te=Object(w.a)((function(e){return{closeButton:{position:"absolute",top:0,right:0},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"relative",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var ne=function(e){var t=te(),n=function(){e.removeUserError(),e.removeContactsError()};return a.a.createElement("div",null,a.a.createElement(Y.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:Boolean(e.userError||e.contactsError),onClose:n,closeAfterTransition:!0,BackdropComponent:Z.a,BackdropProps:{timeout:500}},a.a.createElement($.a,{in:e.userError||e.contactsError},a.a.createElement("div",{className:t.paper},a.a.createElement("label",{htmlFor:"icon-button-file",className:t.closeButton},a.a.createElement(T.a,{onClick:n,color:"primary","aria-label":"upload picture",component:"span"},a.a.createElement(ee.a,null))),a.a.createElement("h2",{id:"transition-modal-title"},"There is an error during operation"),a.a.createElement("p",{id:"transition-modal-description"},e.userError&&e.userError.message,e.contactsError&&e.contactsError.message)))))},re=Object(i.b)((function(e){return{userError:U.c.userError(e),contactsError:v.c.contactsError(e)}}),{removeUserError:U.a.removeUserError,removeContactsError:v.a.removeContactsError})(ne),ae=function(e){Object(g.a)(c,e);var t=Object(E.a)(c);function c(){return Object(f.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.props.token&&(S.a.token.set(this.props.token),this.props.getUser(),this.props.getContacts())}},{key:"render",value:function(){return a.a.createElement(p.a,{fixed:!0,maxWidth:"md"},a.a.createElement(r.Suspense,{fallback:a.a.createElement(b,null)},a.a.createElement(re,null),a.a.createElement(X,null),a.a.createElement(h.d,null,a.a.createElement(h.b,{path:O,exact:!0,component:Object(r.lazy)((function(){return n.e(8).then(n.bind(null,223))}))}),a.a.createElement(q,{path:k,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,224))}))}),a.a.createElement(N,{path:C,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,225))}))}),a.a.createElement(N,{path:j,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,226))}))}),a.a.createElement(h.a,{to:O}))))}}]),c}(r.Component),ce=Object(i.b)((function(e){return{token:U.c.getToken(e)}}),{getUser:U.b.getUser,getContacts:v.b.getContacts})(ae),oe=n(4),ue=n(32),se=n(91),ie=n.n(se),le=n(48),de=n(47),be={key:"auth",storage:ie.a,whitelist:["token"],serialize:!0},fe=Object(oe.a)({reducer:{auth:Object(ue.g)(be,de.a),phonebook:le.a},middleware:Object(oe.d)({serializableCheck:{ignoredActions:[ue.a,ue.f,ue.b,ue.c,ue.d,ue.e]}})}),me=Object(ue.h)(fe);o.a.render(a.a.createElement(i.a,{store:fe},a.a.createElement(s.a,{loading:a.a.createElement(b,null),persistor:me},a.a.createElement(u.a,null,a.a.createElement(ce,null)))),document.getElementById("root"))},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var r=n(5),a=n(17),c={addUser:function(e){return function(t){t(r.a.addUserRequest()),a.a.createUser(e).then((function(e){return a.a.token.set(e.data.token),t(r.a.addUserSuccess(e.data))})).catch((function(e){return t(r.a.addUserError(e))}))}},getUser:function(){return function(e){e(r.a.getUserRequest()),a.a.getCurrentUser().then((function(t){return e(r.a.getUserSuccess(t.data))})).catch((function(t){return e(r.a.getUserError(t))}))}},loginUser:function(e){return function(t){t(r.a.loginRequest()),a.a.login(e).then((function(e){return a.a.token.set(e.data.token),t(r.a.loginSuccess(e.data))})).catch((function(e){return t(r.a.loginError(e))}))}},logoutUser:function(){return function(e){e(r.a.logoutRequest()),a.a.logout().then((function(t){a.a.token.unset(),e(r.a.logoutSuccess())})).catch((function(t){return e(r.a.logoutError(t))}))}},deleteUser:function(){return function(e){e(r.a.deleteUserRequest()),a.a.deleteUserAccount().then((function(t){a.a.token.unset(),e(r.a.deleteUserSuccess())})).catch((function(e){return r.a.deleteUserError(e)}))}}},o=(n(47),{getToken:function(e){return e.auth.token},getName:function(e){return e.auth.user.name},isAuthenticated:function(e){return Boolean(e.auth.token)},userError:function(e){return e.auth.error}})},17:function(e,t,n){"use strict";var r=n(26),a=n.n(r);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com",a.a.defaults.headers.post["Content-Type"]="application/json";var c={set:function(e){a.a.defaults.headers.common.Authorization="Bearer ".concat(e)},unset:function(){a.a.defaults.headers.common.Authorization=""}};t.a={createUser:function(e){return a.a.post("/users/signup",e)},login:function(e){return a.a.post("/users/login",e)},logout:function(){return a.a.post("/users/logout")},getCurrentUser:function(){return a.a.get("/users/current")},deleteUserAccount:function(e){return a.a.delete("/users/current",e)},token:c,getContacts:function(){return a.a.get("/contacts")},addContact:function(e){return a.a.post("/contacts",e)},deleteContact:function(e){return a.a.delete("/contacts/".concat(e))}}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n(4),a=Object(r.b)("contacts/getRequest"),c=Object(r.b)("contacts/getSuccess"),o=Object(r.b)("contacts/getError"),u=Object(r.b)("contacts/addRequest"),s=Object(r.b)("contacts/addSuccess"),i=Object(r.b)("contacts/addError"),l=Object(r.b)("contacts/deleteRequest"),d=Object(r.b)("contacts/deleteSuccess"),b=Object(r.b)("contacts/deleteError"),f={filterContacts:Object(r.b)("contacts/filterContacts"),removeContactsError:Object(r.b)("contacts/removeError"),getContactsRequest:a,getContactsSuccess:c,getContactsError:o,addContactRequest:u,addContactSuccess:s,addContactError:i,deleteContactRequest:l,deleteContactSuccess:d,deleteContactError:b},m=n(17),g={addContact:function(e){return function(t){t(f.addContactRequest()),m.a.addContact(e).then((function(e){return t(f.addContactSuccess(e.data))})).catch((function(e){return f.addContactError(e)}))}},getContacts:function(){return function(e){e(f.getContactsRequest()),m.a.getContacts().then((function(t){return e(f.getContactsSuccess(t.data))})).catch((function(t){return e(f.getContactsError(t))}))}},deleteContact:function(e){return function(t){t(f.deleteContactRequest()),m.a.deleteContact(e).then((function(n){t(f.filterContacts("")),t(f.deleteContactSuccess(e))})).catch((function(e){return t(f.deleteContactError(e))}))}},filterContacts:function(e){return function(t){t(f.filterContacts(e))}}},E=(n(48),n(22)),h=function(e){return e.phonebook.contacts},p=function(e){return e.phonebook.filter},O=Object(E.a)([h,p],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),j={getAllContacts:h,getContactById:Object(E.a)([h,function(e,t){return t}],(function(e,t){return e.find((function(e){return e.id===t}))})),getVisibleContacts:O,getPhonebookFilter:p,contactsError:function(e){return e.phonebook.error}}},47:function(e,t,n){"use strict";var r,a,c,o=n(7),u=n(14),s=n(4),i=n(5),l={name:null,email:null},d=Object(s.c)(l,(r={},Object(o.a)(r,i.a.addUserSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.getUserSuccess,(function(e,t){return t.payload})),Object(o.a)(r,i.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,i.a.logoutSuccess,(function(e,t){return l})),Object(o.a)(r,i.a.deleteUserSuccess,(function(e,t){return l})),r)),b=Object(s.c)(null,(a={},Object(o.a)(a,i.a.addUserSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,i.a.logoutSuccess,(function(e,t){return null})),Object(o.a)(a,i.a.deleteUserSuccess,(function(e,t){return null})),a)),f=Object(s.c)(null,(c={},Object(o.a)(c,i.a.addUserError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.getUserError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.deleteUserError,(function(e,t){return t.payload})),Object(o.a)(c,i.a.removeUserError,(function(e,t){return null})),c));t.a=Object(u.c)({user:d,token:b,error:f})},48:function(e,t,n){"use strict";var r,a,c=n(7),o=n(59),u=n(14),s=n(4),i=n(20),l=Object(s.c)([],(r={},Object(c.a)(r,i.a.addContactSuccess,(function(e,t){return[].concat(Object(o.a)(e),[t.payload])})),Object(c.a)(r,i.a.getContactsSuccess,(function(e,t){return Object(o.a)(t.payload)})),Object(c.a)(r,i.a.deleteContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),r)),d=Object(s.c)("",Object(c.a)({},i.a.filterContacts,(function(e,t){return t.payload}))),b=Object(s.c)(null,(a={},Object(c.a)(a,i.a.addContactError,(function(e,t){return t.payload})),Object(c.a)(a,i.a.getContactsError,(function(e,t){return t.payload})),Object(c.a)(a,i.a.deleteContactError,(function(e,t){return t.payload})),Object(c.a)(a,i.a.removeContactsError,(function(e,t){return null})),a));t.a=Object(u.c)({contacts:l,filter:d,error:b})},5:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("auth/addRequest"),c=Object(r.b)("auth/addSuccess"),o=Object(r.b)("auth/addError"),u=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),d=Object(r.b)("auth/logoutSuccess"),b=Object(r.b)("auth/logoutError"),f=Object(r.b)("auth/getRequest"),m=Object(r.b)("auth/getSuccess"),g=Object(r.b)("auth/getError"),E=Object(r.b)("auth/deleteRequest"),h=Object(r.b)("auth/deleteSuccess"),p=Object(r.b)("auth/deleteError"),O=Object(r.b)("auth/removeError");t.a={addUserRequest:a,addUserSuccess:c,addUserError:o,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:d,logoutError:b,getUserRequest:f,getUserSuccess:m,getUserError:g,deleteUserRequest:E,deleteUserSuccess:h,deleteUserError:p,removeUserError:O}}},[[102,2,3]]]);
//# sourceMappingURL=main.727855a7.chunk.js.map